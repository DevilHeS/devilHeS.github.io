<!doctype html>



  


<html class="theme-next mist use-motion" lang="zh-Hans">
<head>
  <meta charset="UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=edge" />
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"/>



<meta http-equiv="Cache-Control" content="no-transform" />
<meta http-equiv="Cache-Control" content="no-siteapp" />












  
  
  <link href="/lib/fancybox/source/jquery.fancybox.css?v=2.1.5" rel="stylesheet" type="text/css" />




  
  
  
  

  
    
    
  

  

  

  

  

  
    
    
    <link href="//fonts.googleapis.com/css?family=Lato:300,300italic,400,400italic,700,700italic&subset=latin,latin-ext" rel="stylesheet" type="text/css">
  






<link href="/lib/font-awesome/css/font-awesome.min.css?v=4.6.2" rel="stylesheet" type="text/css" />

<link href="/css/main.css?v=5.1.0" rel="stylesheet" type="text/css" />


  <meta name="keywords" content="Hexo, NexT" />








  <link rel="shortcut icon" type="image/x-icon" href="/favicon.ico?v=5.1.0" />






<meta name="description" content="一个正在努力的咸鱼！">
<meta property="og:type" content="website">
<meta property="og:title" content="XYD的小博客">
<meta property="og:url" content="http://yoursite.com/index.html">
<meta property="og:site_name" content="XYD的小博客">
<meta property="og:description" content="一个正在努力的咸鱼！">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="XYD的小博客">
<meta name="twitter:description" content="一个正在努力的咸鱼！">



<script type="text/javascript" id="hexo.configurations">
  var NexT = window.NexT || {};
  var CONFIG = {
    root: '/',
    scheme: 'Mist',
    sidebar: {"position":"left","display":"post"},
    fancybox: true,
    motion: true,
    duoshuo: {
      userId: '0',
      author: '博主'
    },
    algolia: {
      applicationID: '',
      apiKey: '',
      indexName: '',
      hits: {"per_page":10},
      labels: {"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}
    }
  };
</script>



  <link rel="canonical" href="http://yoursite.com/"/>





  <title> XYD的小博客 </title>
</head>

<body itemscope itemtype="http://schema.org/WebPage" lang="zh-Hans">

  










  
  
    
  

  <div class="container one-collumn sidebar-position-left 
   page-home 
 ">
    <div class="headband"></div>

    <header id="header" class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-meta ">
  

  <div class="custom-logo-site-title">
    <a href="/"  class="brand" rel="start">
      <span class="logo-line-before"><i></i></span>
      <span class="site-title">XYD的小博客</span>
      <span class="logo-line-after"><i></i></span>
    </a>
  </div>
  <p class="site-subtitle">知难行易，懒是原罪</p>
</div>

<div class="site-nav-toggle">
  <button>
    <span class="btn-bar"></span>
    <span class="btn-bar"></span>
    <span class="btn-bar"></span>
  </button>
</div>

<nav class="site-nav">
  

  
    <ul id="menu" class="menu">
      
        
        <li class="menu-item menu-item-home">
          <a href="/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-home"></i> <br />
            
            首页
          </a>
        </li>
      
        
        <li class="menu-item menu-item-categories">
          <a href="/categoreis" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-th"></i> <br />
            
            分类
          </a>
        </li>
      
        
        <li class="menu-item menu-item-archives">
          <a href="/archives" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-archive"></i> <br />
            
            归档
          </a>
        </li>
      
        
        <li class="menu-item menu-item-tags">
          <a href="/tags" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-tags"></i> <br />
            
            标签
          </a>
        </li>
      

      
    </ul>
  

  
</nav>



 </div>
    </header>

    <main id="main" class="main">
      <div class="main-inner">
        <div class="content-wrap">
          <div id="content" class="content">
            
  <section id="posts" class="posts-expand">
    
      

  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">
  <link itemprop="mainEntityOfPage" href="http://yoursite.com/2017/02/05/Union-Find/">

  <span style="display:none" itemprop="author" itemscope itemtype="http://schema.org/Person">
    <meta itemprop="name" content="XYD">
    <meta itemprop="description" content="">
    <meta itemprop="image" content="/uploads/head.png">
  </span>

  <span style="display:none" itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
    <meta itemprop="name" content="XYD的小博客">
    <span style="display:none" itemprop="logo" itemscope itemtype="http://schema.org/ImageObject">
      <img style="display:none;" itemprop="url image" alt="XYD的小博客" src="">
    </span>
  </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/2017/02/05/Union-Find/" itemprop="url">
                  Union-Find
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2017-02-05T21:14:33+08:00">
                2017-02-05
              </time>
            

            

            
          </span>

          
            <span class="post-category" >
              <span class="post-meta-divider">|</span>
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/算法/" itemprop="url" rel="index">
                    <span itemprop="name">算法</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          

          
          

          

          

        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h1 id="并查集（Union-Find）"><a href="#并查集（Union-Find）" class="headerlink" title="并查集（Union-Find）"></a>并查集（Union-Find）</h1><blockquote>
<p>并查集(Union-Find)是在解决<strong>动态连通性</strong>一类问题的一种算法。</p>
</blockquote>
<h3 id="动态联通（Dynamic-connectivity）"><a href="#动态联通（Dynamic-connectivity）" class="headerlink" title="动态联通（Dynamic connectivity）"></a>动态联通（Dynamic connectivity）</h3><p>对于给定的N个对象，存在两种操作：</p>
<ul>
<li>Union command：连接两个对象(union(x,y))</li>
<li>Find/connected query： 判断两个对象是否连接（有路径）(connected(x,y))</li>
</ul>
<p>如下图所示：<br><img src="http://ocdeagdds.bkt.clouddn.com/_R7$BODEAQEL%5BL6MWB0JF23.png" alt="连通图1"><br>所需要的操作是：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div></pre></td><td class="code"><pre><div class="line">union(4, 3)</div><div class="line">union(3, 8)</div><div class="line">union(6, 5)</div><div class="line">union(9, 4)</div><div class="line">union(2, 1)</div><div class="line">connected(0, 7)  // false</div><div class="line">connected(8, 9)  //true</div><div class="line">union(5, 0)</div><div class="line">union(7, 2)</div><div class="line">union(1, 0)</div><div class="line">union(6, 1)</div><div class="line">union(1, 0)</div><div class="line">connected(0, 7) //true</div></pre></td></tr></table></figure></p>
<h2 id="算法一：Quick-find"><a href="#算法一：Quick-find" class="headerlink" title="算法一：Quick-find"></a>算法一：Quick-find</h2><p>Data structure:</p>
<ul>
<li>int 数组 id[] 长度为n.</li>
<li>如果p 和 q连接，则id[p]=id[q]</li>
</ul>
<p><img src="http://ocdeagdds.bkt.clouddn.com/@_4Y%5DH05%2818OX93SO6CA4Q4.png" alt="联通图2"><br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div></pre></td><td class="code"><pre><div class="line">connected(x,y)&#123;</div><div class="line">	return id[x]==id[y];</div><div class="line">&#125;</div><div class="line"></div><div class="line">union(x, y)&#123;</div><div class="line">	int pid = id[p];</div><div class="line">  	int qid = id[q];</div><div class="line"> 	for (int i = 0; i &lt; id.length; i++)</div><div class="line"> 		if (id[i] == pid) id[i] = qid;</div><div class="line">&#125;</div></pre></td></tr></table></figure></p>
<p>Java  implementation:<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div></pre></td><td class="code"><pre><div class="line">public class QuickFindUF&#123;</div><div class="line">	private int[] id;</div><div class="line">    </div><div class="line">    public QuickFindUF(int n)&#123;</div><div class="line">    	id = new int[N];</div><div class="line">        for(int i = 0;  i &lt; n; i++)</div><div class="line">        	id[i] = i;</div><div class="line">    &#125;</div><div class="line">    </div><div class="line">    public boolean connted(int p, int q)&#123;</div><div class="line">    	return id[p] == id[q];</div><div class="line">    &#125;</div><div class="line">    </div><div class="line">    public void union(int p, int q)&#123;</div><div class="line">    	int pid = id[p];</div><div class="line">        int qid = id[q];</div><div class="line">        for(int i = 0; i &lt; id.length; i++)&#123;</div><div class="line">        	if(id[i] == pid)</div><div class="line">            	id[i] == qid;</div><div class="line">        &#125;</div><div class="line">    &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure></p>
<p>很明显这个算法初始化花费O(N),一次union花费O(N),一次查询花费O(1)。</p>
<h2 id="Quick-union"><a href="#Quick-union" class="headerlink" title="Quick-union"></a>Quick-union</h2><p>Data structure:</p>
<ul>
<li>int id[N]</li>
<li>id[i]是i的父节点</li>
<li>i的根节点是id[id[id[…id[i]…]]]</li>
</ul>
<p><img src="http://ocdeagdds.bkt.clouddn.com/L%7D$GT%25%29AUWA2BJ%25O%60M6QR%28Y.png" alt="3"><br>Java  implementation<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div></pre></td><td class="code"><pre><div class="line">public class QuickUnionUF&#123;</div><div class="line">	private int[] id;</div><div class="line">    </div><div class="line">    public QuickUnionUF(int N)&#123;</div><div class="line">    	id = new int[N];</div><div class="line">        for(int i = 0; i &lt; N; i++ )</div><div class="line">        	id[i] = i;</div><div class="line">    &#125;</div><div class="line">    </div><div class="line">    private int root(int i)&#123;</div><div class="line">    	while(i != id[i])</div><div class="line">        	i = id[i];</div><div class="line">      return i;</div><div class="line">    &#125;</div><div class="line">    </div><div class="line">    public boolean connected(int p, int q)&#123;</div><div class="line">    	return root(p) == root(q);</div><div class="line">    &#125;</div><div class="line">    </div><div class="line">    public void union(int p, int q)&#123;</div><div class="line">    	int i = root(p);</div><div class="line">        int j = root(q);</div><div class="line">        id[i] = j;</div><div class="line">    &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure></p>
<p>算法Quick-union初始化O(N),一次union花费O(N)，connected最坏花费O(N);</p>
<h2 id="改进1：Weighted-quick-union"><a href="#改进1：Weighted-quick-union" class="headerlink" title="改进1：Weighted quick-union"></a>改进1：Weighted quick-union</h2><ul>
<li>修改quick-union避免树太深</li>
<li>保留每个树的大小（对象的数量）</li>
<li>当连接时将小树放置到大树下以平衡树</li>
</ul>
<p>Java implementation<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div></pre></td><td class="code"><pre><div class="line">conntcted() 与 quick-union 完全一致</div><div class="line"></div><div class="line">union() 修改：</div><div class="line">- 连接小树到大树下面</div><div class="line">- 更新 sz[] 数组</div><div class="line">int i = root(p);</div><div class="line">int j = root(q);</div><div class="line">if(i == j) return;</div><div class="line">if(sz[i] &lt; sz[j])&#123; id[i] = j; sz[j] += sz[i]; &#125;</div><div class="line">else &#123; id[j] = i; sz[i] += sz[j]; &#125;</div></pre></td></tr></table></figure></p>
<h2 id="改进2：path-compression"><a href="#改进2：path-compression" class="headerlink" title="改进2：path compression"></a>改进2：path compression</h2><p>Quick union with path compression：<br> 在计算p的根节点时，设置每个经过的节点都变为根节点的直接子节点。</p>
 <figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div></pre></td><td class="code"><pre><div class="line">修改root():</div><div class="line">private int root(int i)&#123;</div><div class="line">	while(i != id[i])&#123;</div><div class="line">   	int k = id[i];</div><div class="line">   	id[i] = id[id[i]];</div><div class="line">       i = k;</div><div class="line">   &#125;</div><div class="line">   return i;</div><div class="line">&#125;</div></pre></td></tr></table></figure>

          
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>


    <footer class="post-footer">
      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">
  <link itemprop="mainEntityOfPage" href="http://yoursite.com/2016/12/19/面向对象设计原则之单一职责原则/">

  <span style="display:none" itemprop="author" itemscope itemtype="http://schema.org/Person">
    <meta itemprop="name" content="XYD">
    <meta itemprop="description" content="">
    <meta itemprop="image" content="/uploads/head.png">
  </span>

  <span style="display:none" itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
    <meta itemprop="name" content="XYD的小博客">
    <span style="display:none" itemprop="logo" itemscope itemtype="http://schema.org/ImageObject">
      <img style="display:none;" itemprop="url image" alt="XYD的小博客" src="">
    </span>
  </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/2016/12/19/面向对象设计原则之单一职责原则/" itemprop="url">
                  面向对象设计原则之单一职责原则
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2016-12-19T21:36:05+08:00">
                2016-12-19
              </time>
            

            

            
          </span>

          
            <span class="post-category" >
              <span class="post-meta-divider">|</span>
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/设计模式/" itemprop="url" rel="index">
                    <span itemprop="name">设计模式</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          

          
          

          

          

        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h1 id="面向对象设计原则之单一职责原则"><a href="#面向对象设计原则之单一职责原则" class="headerlink" title="面向对象设计原则之单一职责原则"></a>面向对象设计原则之单一职责原则</h1><p>单一职责原则是最简单的面向对象设计原则，它用于控制类的粒度大小。单一职责原则定义如下： 单一职责原则(Single Responsibility Principle, SRP)：一个类只负责一个功能领域中的相应职责，或者可以定义为：就一个类而言，应该只有一个引起它变化的原因。</p>
<p>如果一个类承担的职责过多，就等于把这些职责耦合在一起，一个职责的变化可能会削弱或者抑制这个类完成其他职责的能力。这种耦合会导致脆弱的设计，当变化发生时，设计会遭受到意想不到的破坏。</p>
<p>单一职责原则是实现高内聚、低耦合的指导方针，它是最简单但又最难运用的原则，需要设计人员发现类的不同职责并将其分离，而发现类的多重职责需要设计人员具有较强的分析设计能力和相关实践经验。</p>
<p>下面分析单一职责原则：</p>
<p>Sunny软件公司开发人员针对某CRM（Customer Relationship Management，客户关系管理）系统中客户信息图形统计模块提出了如图1所示初始设计方案：</p>
<p>初始设计方案结构图：<br><img src="http://ocdeagdds.bkt.clouddn.com/1336147233_3529.jpg" alt="1"></p>
<p>在图1中，CustomerDataChart类中的方法说明如下：getConnection()方法用于连接数据库，findCustomers()用于查询所有的客户信息，createChart()用于创建图表，displayChart()用于显示图表。</p>
<p>现使用单一职责原则对其进行重构:</p>
<p>在图1中，CustomerDataChart类承担了太多的职责，既包含与数据库相关的方法，又包含与图表生成和显示相关的方法。如果在其他类中也需要连接数据库或者使用findCustomers()方法查询客户信息，则难以实现代码的重用。无论是修改数据库连接方式还是修改图表显示方式都需要修改该类，它不止一个引起它变化的原因，违背了单一职责原则。因此需要对该类进行拆分，使其满足单一职责原则，类CustomerDataChart可拆分为如下三个类：</p>
<p>(1) DBUtil：负责连接数据库，包含数据库连接方法getConnection()；<br>(2) CustomerDAO：负责操作数据库中的Customer表，包含对Customer表的增删改查等方法，如findCustomers()；<br>(3) CustomerDataChart：负责图表的生成和显示，包含方法createChart()和displayChart()。</p>
<p>使用单一职责原则重构后的结构如图2所示：<br><img src="http://ocdeagdds.bkt.clouddn.com/1336147240_4896.jpg" alt="2"></p>

          
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>


    <footer class="post-footer">
      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">
  <link itemprop="mainEntityOfPage" href="http://yoursite.com/2016/12/19/面向对象设计原则/">

  <span style="display:none" itemprop="author" itemscope itemtype="http://schema.org/Person">
    <meta itemprop="name" content="XYD">
    <meta itemprop="description" content="">
    <meta itemprop="image" content="/uploads/head.png">
  </span>

  <span style="display:none" itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
    <meta itemprop="name" content="XYD的小博客">
    <span style="display:none" itemprop="logo" itemscope itemtype="http://schema.org/ImageObject">
      <img style="display:none;" itemprop="url image" alt="XYD的小博客" src="">
    </span>
  </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/2016/12/19/面向对象设计原则/" itemprop="url">
                  面向对象设计原则
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2016-12-19T20:50:45+08:00">
                2016-12-19
              </time>
            

            

            
          </span>

          
            <span class="post-category" >
              <span class="post-meta-divider">|</span>
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/设计模式/" itemprop="url" rel="index">
                    <span itemprop="name">设计模式</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          

          
          

          

          

        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h1 id="面向对象设计原则"><a href="#面向对象设计原则" class="headerlink" title="面向对象设计原则"></a>面向对象设计原则</h1><blockquote>
<p>本文转载自<a href="https://quanke.gitbooks.io/design-pattern-java/content/%E9%9D%A2%E5%90%91%E5%AF%B9%E8%B1%A1%E8%AE%BE%E8%AE%A1%E5%8E%9F%E5%88%99.html" target="_blank" rel="external">面向对象设计原则</a></p>
</blockquote>
<p>面向对象软件系统的设计而言，在支持可维护性的同时，提高系统的可复用性是一个至关重要的问题，如何同时提高一个软件系统的可维护性和可复用性是面向对象设计需要解决的核心问题之一。在面向对象设计中，可维护性的复用是以设计原则为基础的。每一个原则都蕴含一些面向对象设计的思想，可以从不同的角度提升一个软件结构的设计水平。</p>
<p>面向对象设计原则为支持可维护性复用而诞生，这些原则蕴含在很多设计模式中，他们是从许多设计方案中总结出来的知道性原则。</p>
<p>最常见的7种面向对象设计原则如下表所示：</p>
<table>
<thead>
<tr>
<th>设计原则名称</th>
<th>定义</th>
</tr>
</thead>
<tbody>
<tr>
<td>单一职责原则(Single Responsibility Principle, SRP)</td>
<td>一个类只负责一个功能领域中的相应职责</td>
</tr>
<tr>
<td>开闭原则 (Open-Closed Principle, OCP)</td>
<td>软件实体应对扩展开放，而对修改关闭</td>
</tr>
<tr>
<td>里氏代换原则 (Liskov Substitution Principle, LSP)</td>
<td>所有引用基类对象的地方能够透明地使用其子类的对象</td>
</tr>
<tr>
<td>依赖倒转原则 (Dependence Inversion Principle, DIP)</td>
<td>抽象不应该依赖于细节，细节应该依赖于抽象</td>
</tr>
<tr>
<td>接口隔离原则 (Interface Segregation Principle, ISP)</td>
<td>使用多个专门的接口，而不使用单一的总接口</td>
</tr>
<tr>
<td>合成复用原则 (Composite Reuse Principle, CRP)</td>
<td>尽量使用对象组合，而不是继承来达到复用的目的</td>
</tr>
<tr>
<td>迪米特法则 (Law of Demeter, LoD)</td>
<td>一个软件实体应当尽可能少地与其他实体发生相互作用</td>
</tr>
</tbody>
</table>

          
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>


    <footer class="post-footer">
      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">
  <link itemprop="mainEntityOfPage" href="http://yoursite.com/2016/12/18/UML类图和时序图/">

  <span style="display:none" itemprop="author" itemscope itemtype="http://schema.org/Person">
    <meta itemprop="name" content="XYD">
    <meta itemprop="description" content="">
    <meta itemprop="image" content="/uploads/head.png">
  </span>

  <span style="display:none" itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
    <meta itemprop="name" content="XYD的小博客">
    <span style="display:none" itemprop="logo" itemscope itemtype="http://schema.org/ImageObject">
      <img style="display:none;" itemprop="url image" alt="XYD的小博客" src="">
    </span>
  </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/2016/12/18/UML类图和时序图/" itemprop="url">
                  UML类图和时序图
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2016-12-18T16:28:20+08:00">
                2016-12-18
              </time>
            

            

            
          </span>

          
            <span class="post-category" >
              <span class="post-meta-divider">|</span>
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/设计模式/" itemprop="url" rel="index">
                    <span itemprop="name">设计模式</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          

          
          

          

          

        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h1 id="UML类图和时序图"><a href="#UML类图和时序图" class="headerlink" title="UML类图和时序图"></a>UML类图和时序图</h1><blockquote>
<p>本文转载于<a href="http://design-patterns.readthedocs.io/zh_CN/latest/read_uml.html" target="_blank" rel="external">UML类图和时序图</a></p>
</blockquote>
<p>本文只会讲讲各个类之间的关系，能看懂类图中各个类之间的线条、箭头代表什么意思后，能够应对日常的工作和交流，能将类图表达的含义与最终的代码对应起来即可，这样看后面的模式结构图就应该没有什么问题了！</p>
<h3 id="一个小实例"><a href="#一个小实例" class="headerlink" title="一个小实例"></a>一个小实例</h3><p>类之间的关系：<br><img src="http://ocdeagdds.bkt.clouddn.com/uml_class_struct.jpg" alt="uml_class_struct"></p>
<ul>
<li>车的类图结构为&lt;<abstract>&gt;,表示车为一个抽象类；</abstract></li>
<li>它有两个继承类：小汽车和自行车；它们之间的关系为实现关系，使用空心箭头的虚线表示；</li>
<li>小汽车与SUV之间也是继承关系，它们之间的关系为泛化关系，使用空心箭头的实线表示；</li>
<li>小汽车和发动机之间是组合关系，使用带实心箭头的实线表示；</li>
<li>学生和班级之间的关系是聚合关系，使用空心箭头的实线表示；</li>
<li>学生和身份证之间为关联关系，使用一根实线表示；</li>
<li>学生上学需要用到自行车，与自行车是一种依赖关系，使用带箭头的虚线表示；</li>
</ul>
<h3 id="类之间的关系"><a href="#类之间的关系" class="headerlink" title="类之间的关系"></a>类之间的关系</h3><h4 id="泛化关系-generalization"><a href="#泛化关系-generalization" class="headerlink" title="泛化关系(generalization)"></a>泛化关系(generalization)</h4><p>类的继承结构表现在UML中为：<strong>泛化(generalize)</strong> 与 <strong>实现(realize)</strong>:</p>
<p>继承的关系为 is-a 的关系： 两个对象如果可以用is-a来表示，这就是继承的关系：(…是…)<br>eg：自行车是车</p>
<p>泛化关系用一条带空心箭头直接表示，如下图（A继承自B）：<br><img src="http://ocdeagdds.bkt.clouddn.com/uml_generalization.jpg" alt="uml_generalization"></p>
<p>eg: 汽车在现实中有实现，可用汽车定义具体的对象；汽车和SUV之间为泛化关系<br><img src="http://ocdeagdds.bkt.clouddn.com/uml_generalize.jpg" alt="uml_generalize"></p>
<p>注：最终代码中，泛化关系表现为继承非抽象类。</p>
<h4 id="实现关系-realize"><a href="#实现关系-realize" class="headerlink" title="实现关系(realize)"></a>实现关系(realize)</h4><p>实现关系用一条带空心箭头的虚线表示。</p>
<p>eg: “车”为一个抽象概念，在现实中并无法直接用来定义对象；只有指明具体的子类（汽车还是自行车），才可以定义具体的对象。<br><img src="http://ocdeagdds.bkt.clouddn.com/uml_realize.jpg" alt="uml_realize"></p>
<p>注：最终代码中，实现关系表现为继承抽象类。</p>
<h4 id="聚合关系-aggregation"><a href="#聚合关系-aggregation" class="headerlink" title="聚合关系(aggregation)"></a>聚合关系(aggregation)</h4><p>聚合关系用一条带空心菱形的直线表示，如下图A聚合带B上，或者说B由A组成：<br><img src="http://ocdeagdds.bkt.clouddn.com/uml_aggregation.jpg" alt="uml_aggregation"></p>
<p>聚合关系用来表示实体对象之间的关系，表示整体由部分构成的语义：例如一个部门由多个员工组成。</p>
<p>与组合关系不同的是，整体和部分不是强依赖性的，即使整体不存在了，部分依然存在。例如，部门撤销了，人员不会消失，他们依然存在。</p>
<h4 id="组合关系-composition"><a href="#组合关系-composition" class="headerlink" title="组合关系(composition)"></a>组合关系(composition)</h4><p>组合关系用一条实心菱形箭头直线表示，如下图A组成B，或者B由A组成：<br><img src="http://ocdeagdds.bkt.clouddn.com/uml_composition.jpg" alt="uml_composition"></p>
<p>与聚合关系一样，组合关系同样表示整体由部分组成的语义：比如公司由多个部门组成。</p>
<p>但组合关系是一种强依赖性的特殊聚合关系，如果整体不存在了，则部分也不存在了。</p>
<h4 id="关联关系-association"><a href="#关联关系-association" class="headerlink" title="关联关系(association)"></a>关联关系(association)</h4><p>关联关系是用一条直线表示的，他描述不同类的对象之间的结构关系。它是一种静态关系，通常与运行的状态无关。</p>
<p>关联关系默认不强调方向，表示对象间互相知道；如果如下图特别强调方向，则表示A知道B，但B不知道A:<br><img src="http://ocdeagdds.bkt.clouddn.com/uml_association.jpg" alt="uml_association"></p>
<p>注：在最终的代码中，关联对象通常以成员变量的形式实现的。</p>
<h4 id="依赖关系-dependency"><a href="#依赖关系-dependency" class="headerlink" title="依赖关系(dependency)"></a>依赖关系(dependency)</h4><p>依赖关系使用一套带箭头的虚线表示。如下图表示A依赖于B，它描述一个对象在运行期间会用到另一个对象的关系：</p>
<p><img src="http://ocdeagdds.bkt.clouddn.com/uml_dependency.jpg" alt="uml_dependency"></p>
<p>与关联关系不同的是，它是一种临时性的关系，通常在运行期间产生，并且随着运行时的变化，依赖也可能产生变化。</p>
<p>显然，依赖也有方向，双向依赖是一种非常糟糕的结构，所有我们总是应该保持单项依赖，杜绝双向依赖的产生。</p>
<p>注：在最终代码中，依赖关系体现为类构造方法以及类方法的传入参数，箭头的指向为调用关系；依赖关系除了临时知道对方外，还是“使用”对方的方法和属性；</p>
<h3 id="时序图"><a href="#时序图" class="headerlink" title="时序图"></a>时序图</h3><p>为了展示对象之间交互细节，后续都会用到时序图；</p>
<p>时序图(Sequence Diagram)是显示对象之间交互的图，这些对象是按照时间顺序排序的，时序图中显示的参与交互的对象以及对象之间消息交互的顺序。</p>
<p>时序图包括的建模元素主要有：对象(Actor)、生命线(Lifeline)、控制焦点(Focus of control)、消息(Message)等等</p>
<p>关于时序图，下面这篇文章介绍的比较详细：</p>
<p><a href="http://smartlife.blog.51cto.com/1146871/284874" target="_blank" rel="external">http://smartlife.blog.51cto.com/1146871/284874</a></p>

          
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>


    <footer class="post-footer">
      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">
  <link itemprop="mainEntityOfPage" href="http://yoursite.com/2016/12/18/设计模式/">

  <span style="display:none" itemprop="author" itemscope itemtype="http://schema.org/Person">
    <meta itemprop="name" content="XYD">
    <meta itemprop="description" content="">
    <meta itemprop="image" content="/uploads/head.png">
  </span>

  <span style="display:none" itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
    <meta itemprop="name" content="XYD的小博客">
    <span style="display:none" itemprop="logo" itemscope itemtype="http://schema.org/ImageObject">
      <img style="display:none;" itemprop="url image" alt="XYD的小博客" src="">
    </span>
  </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/2016/12/18/设计模式/" itemprop="url">
                  设计模式
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2016-12-18T16:01:55+08:00">
                2016-12-18
              </time>
            

            

            
          </span>

          
            <span class="post-category" >
              <span class="post-meta-divider">|</span>
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/设计模式/" itemprop="url" rel="index">
                    <span itemprop="name">设计模式</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          

          
          

          

          

        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h1 id="设计模式简介"><a href="#设计模式简介" class="headerlink" title="设计模式简介"></a>设计模式简介</h1><p>设计模式并不直接用来完成代码的编写，而是描述在各种不同情况下，要怎么解决问题的一种方案。</p>
<p><strong>面向对象设计模式通常以类或对象来描述其中的关系和相互作用，但不涉及用来完成应用程序的特定类或对象。设计模式能使不稳定依赖于相对稳定、具体依赖于相对抽象，避免会引起麻烦的紧耦合，以增强软件设计面对并适应变化的能力。</strong> </p>
<p>肯特·贝克和沃德·坎宁安在1987年，利用克里斯托佛·亚历山大在建筑设计领域里的思想开发了设计模式并把此思想应用在Smalltalk中的图形用户接口（GUI）的生成中。一年后埃里希·伽玛在他的苏黎世大学博士毕业论文中开始尝试把这种思想改写为适用于软件开发。与此同时James Coplien 在1989年至1991年也在利用相同的思想致力于C++的开发，而后于1991年发表了他的著作Advanced C++ Programming Styles and Idioms。同年Erich Gamma 得到了博士学位，然后去了美国，在那与Richard Helm, Ralph Johnson ,John Vlissides 合作出版了《设计模式：可复用面向对象软件的基础》（Design Patterns - Elements of Reusable Object-Oriented Software） 一书，在此书中共收录了23个设计模式。</p>
<p>这四位作者在软件开发领域里以“四人帮”（英语，Gang of Four，简称GoF）而闻名，并且他们在此书中的协作导致了软件设计模式的突破。有时，GoF也会用于代指《设计模式》这本书。</p>
<p><strong>《设计模式》一书原先把设计模式分为创建型模式、结构型模式、行为型模式，把它们通过授权、聚合、诊断的概念来描述。若想更进一步了解关于面向对象设计的背景，参考接口模式、内聚。若想更进一步了解关于面向对象编程的背景，参考继承，接口，多态。</strong></p>

          
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>


    <footer class="post-footer">
      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
  </section>

  


          </div>
          


          

        </div>
        
          
  
  <div class="sidebar-toggle">
    <div class="sidebar-toggle-line-wrap">
      <span class="sidebar-toggle-line sidebar-toggle-line-first"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-middle"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-last"></span>
    </div>
  </div>

  <aside id="sidebar" class="sidebar">
    <div class="sidebar-inner">

      

      

      <section class="site-overview sidebar-panel sidebar-panel-active">
        <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <img class="site-author-image" itemprop="image"
               src="/uploads/head.png"
               alt="XYD" />
          <p class="site-author-name" itemprop="name">XYD</p>
          <p class="site-description motion-element" itemprop="description">一个正在努力的咸鱼！</p>
        </div>
        <nav class="site-state motion-element">
          <div class="site-state-item site-state-posts">
            <a href="/archives">
              <span class="site-state-item-count">5</span>
              <span class="site-state-item-name">日志</span>
            </a>
          </div>

          
            <div class="site-state-item site-state-categories">
              <a href="/categoreis">
                <span class="site-state-item-count">2</span>
                <span class="site-state-item-name">分类</span>
              </a>
            </div>
          

          
            <div class="site-state-item site-state-tags">
              <a href="/tags">
                <span class="site-state-item-count">4</span>
                <span class="site-state-item-name">标签</span>
              </a>
            </div>
          

        </nav>

        

        <div class="links-of-author motion-element">
          
        </div>

        
        

        
        

        


      </section>

      

    </div>
  </aside>


        
      </div>
    </main>

    <footer id="footer" class="footer">
      <div class="footer-inner">
        <div class="copyright" >
  
  &copy; 
  <span itemprop="copyrightYear">2017</span>
  <span class="with-love">
    <i class="fa fa-heart"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">XYD</span>
</div>


<div class="powered-by">
  由 <a class="theme-link" href="https://hexo.io">Hexo</a> 强力驱动
</div>

<div class="theme-info">
  主题 -
  <a class="theme-link" href="https://github.com/iissnan/hexo-theme-next">
    NexT.Mist
  </a>
</div>


        

        
      </div>
    </footer>

    <div class="back-to-top">
      <i class="fa fa-arrow-up"></i>
    </div>
  </div>

  

<script type="text/javascript">
  if (Object.prototype.toString.call(window.Promise) !== '[object Function]') {
    window.Promise = null;
  }
</script>









  



  
  <script type="text/javascript" src="/lib/jquery/index.js?v=2.1.3"></script>

  
  <script type="text/javascript" src="/lib/fastclick/lib/fastclick.min.js?v=1.0.6"></script>

  
  <script type="text/javascript" src="/lib/jquery_lazyload/jquery.lazyload.js?v=1.9.7"></script>

  
  <script type="text/javascript" src="/lib/velocity/velocity.min.js?v=1.2.1"></script>

  
  <script type="text/javascript" src="/lib/velocity/velocity.ui.min.js?v=1.2.1"></script>

  
  <script type="text/javascript" src="/lib/fancybox/source/jquery.fancybox.pack.js?v=2.1.5"></script>


  


  <script type="text/javascript" src="/js/src/utils.js?v=5.1.0"></script>

  <script type="text/javascript" src="/js/src/motion.js?v=5.1.0"></script>



  
  

  

  


  <script type="text/javascript" src="/js/src/bootstrap.js?v=5.1.0"></script>



  



  




	




  
  

  

  

  

  


</body>
</html>
